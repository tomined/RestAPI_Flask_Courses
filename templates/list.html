{% extends 'base.html' %}

{% block content %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

    <div class="container-fluid bg-primary text-white py-5">
        <div class="container">
            <h1>Course list</h1>
            <p>Here you have complite courses list with details</p>
            <a class="btn btn-light" href="/">Back to the Dashboard</a>
        </div>
    </div>

    <div class="container mt-5">
        
        <table class="table table-hover">
            <thead>
              <tr>
                <th class="th-sm" scope="col"> </th>
                <th scope="col">Name</th>
                <th scope="col">Category</th>
                <th scope="col">Price</th>
                <th scope="col">City</th>
                <th scope="col">Hours</th>
                <th scope="col">Select to delete</th>
              </tr>
            </thead>
            <tbody>
                {% for index, course in courses %}

                <tr data-href="http://www.google.com/">
                    <th scope="row"> {{ index }} </th>
                    <td>{{course.name}}</td>
                    <td>{{course.category}}</td>
                    <td>{{course.price}}</td>
                    <td>{{course.city}}</td>
                    <td>{{course.hours}}</td>
                    <td>
                        <!-- Default unchecked -->
                        <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="tableDefaultCheck1">
                          <label class="custom-control-label" for="tableDefaultCheck1"></label>
                        </div>
                      </td>
                </tr>

                {% endfor %}

            </tbody>
          </table>


          <script>
            document.addEventListener("DOMContentLoaded", () => {

                const rows = document.querySelectorAll("tr[data-href]");

                rows.forEach(row =>{
                    row.addEventListener("click", () =>{

                        window.location.href = row.dataset.href;

                    });
                });
            });
          </script>
    </div>

{% endblock %}